extends layout.pug

append head
  script(src="/javascripts/comment.js" type="module" defer)

block content
  h1= `${meme.User.username}'s Meme`
  div
    ul
      div
        li= `Headline: ${meme.headline}`
        li= `Caption: ${meme.caption}`
        img(src=`${meme.link}` alt='meme')
        div
        a(href=`/` role='button')= `Likes: ${likes}`
        div
        input(type="message" name="content" id="content" class="content" placeholder="Write a comment.")
        button(id=`${meme.id}` class="add-button") Add Comment
        h3 Comments:
        ul
          each comment in comments
            li= `${comment.User.username}: ${comment.body} `
            if comment.userId === locals.user.id
            li= `${comment.User.username}: ${comment.body} `
              button(id=`${comment.id}`) Delete Comment
              button(id=`${comment.id}`) Edit Comment
      div
        p: a(href='/users/new') New User? Sign Up Here
        p: a(href='/users/sign-in') Sign In to Like and Comment
        p: a(href='/') Go Back to the Home Page
        p: a(href=`/memes/${meme.id}/edit`) Edit Your Meme
        p: a(href=`/memes/${meme.id}/delete`) Delete Your Meme?
